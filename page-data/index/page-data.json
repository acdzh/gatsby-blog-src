{"componentChunkName":"component---src-templates-posts-tsx","path":"/","result":{"data":{"allMdx":{"nodes":[{"excerpt":"首先我们有一些原子和公共样式: 之后看下这个例子: 一切看起来似乎都是那么美好, 但是在 Android 4.4 下预览就有问题了:  主要是因为 Android 4.4 无法正确判断阿拉伯语的宽度, 因此在  justify-between  下阿拉伯语无法撑开. 解决办法可以给 span 元素增加属性  width: 100%  或者  flex: 1 1 0%  手动帮其撑开一下. 这样表现就和上面预览一致了. 历史记录 Version Action Time 1.…","fields":{"slug":"/tec/2021-08/android_4.4_flex_arabic_bug/","dateFormated":"2021年08月31日 08:55:32"},"frontmatter":{"tags":["前端","HTML","兼容性问题","Android 4.4","bug"],"author":"acdzh","categories":["技术"],"cover":null,"description":null,"draft":false,"series":[],"slug":"android_4.4_flex_arabic_bug","title":"Android 4.4 下 flex 布局阿拉伯语元素无法撑开"}},{"excerpt":"先看一段代码: 输出的结果是  This is window . 这是因为这里  addEventListener  中的事件函数  onmsg  的  this  实际上  window  而不是  a . 如果想明确  this  的话, 需要指定  this  的指向. 历史记录 Version Action Time 1.0 Init 2021-08-19 20:26:03","fields":{"slug":"/tec/2021-08/this_of_addEventListener/","dateFormated":"2021年08月19日 12:26:03"},"frontmatter":{"tags":["Javascript"],"author":"acdzh","categories":["技术"],"cover":null,"description":null,"draft":false,"series":[],"slug":"this_of_addEventListener","title":"addEventListener this 指向问题"}},{"excerpt":"其他 改进摄像机 我们之前实现的摄像机十分简陋, 其中视野范围是直接在空间中划定了一个矩形来描述的. 我们这里将这个描述改为更合理的两个参数:  FOV  和屏幕比例  aspect . 这是 Minecraft 在不同 FOV 下的视觉效果: FOV: 60° FOV: 110° 通过这两个参数我们可以计算出之前定义的参数: 修改一下摄像机的定义 下一步是相机的方向. 我们已经有了相机的位置, 因为三维空间的自由度是…","fields":{"slug":"/tec/2020-12/realize_ray_tracing_in_two_days_5/","dateFormated":"2020年12月31日 08:05:20"},"frontmatter":{"tags":["RTX","光线追踪","图形学","渲染"],"author":null,"categories":["技术","计算机图形学"],"cover":{"publicURL":"/static/d1f23a5a8692a1b7761bed7dcca80e6e/210318170802.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQoz3WSy2sTURjF71bc2LTV6CII4sIu7EIxIokStCFh7GQyz84zM5OZycyd152ZTBpsF6IS06KEWnxgE7ALN27ciAtFBP8yL2mVuPDHgfudw3c2916QZVn/f+Q51gl/7anmAPIPrX+hSZIjyfZCwjSadLPJNBoUQZxsA4Zh2AWwpXFC03WOW1cUguN4jsMpx7K1R8Ob716XDyaEY/MUxXIcEARhawG504FBYFtWQRQBigs8L/C8LAg39kYXvn8t/vxW/PWj9OUz4UMJl2VZVhRFxSgKyfMmhCjLBv2syvOgWjlTuaNIUsvtrb5/U/wwvXg8u3Q8W/n0cX3/uS5JQJ9jmqaqaU2KMgwDW0kURUU5u7Z2tVzG5Yeeu/xifP7g5eqrSfFwsvT28PqTx5auA2uObduO41CiqOk6bg8xOzvlWq2G70YQ2rJUSuPC+NnK3mhpf7Q8fkrFkWdZwHVdb07g+5brbu/uTo+OprOZF0WsqrKa1pLlByx7rb5xjmkX7G7Jdzd9GEHoQQh83w/DMJoTBkEcx9vDIZ4dCLuepzoOYxp1SbrVIq/cq16+W7lNEHxH84IA7wC8jRBKkwQlSYSHfj/NsjhNA4QgQk4UKdBjbHvTMDY0tSpu3ZeldtfsBj5KU3D6w/I8wTV8DgZYWZ6neY7y3O9nVoI6YSgHvuBDutdjeo4EoRVH+FF+A/dM+p6pX4NbAAAAAElFTkSuQmCC","width":172,"height":96,"src":"/static/d1f23a5a8692a1b7761bed7dcca80e6e/2fdde/210318170802.png","srcSet":"/static/d1f23a5a8692a1b7761bed7dcca80e6e/2fdde/210318170802.png 1x,\n/static/d1f23a5a8692a1b7761bed7dcca80e6e/ffaf3/210318170802.png 1.5x,\n/static/d1f23a5a8692a1b7761bed7dcca80e6e/ec531/210318170802.png 2x"}}},"description":null,"draft":false,"series":["两天实现光线追踪"],"slug":"realize_ray_tracing_in_two_days_5","title":"两天实现光线追踪 5 - 其他"}},{"excerpt":"折射 斯涅尔定律 我们需要一个折射函数, 入参为入射光线方向向量   和法线向量  , 以及材质的折射率. 折射率  . 我们有  . 即  . 那么  ,   满足   时, 才会发生折射. 下面我们求出射光线方向  . 设   ,   在法线上的投影分别为   和   , 在切线上的投影分别为   和  ,\n显然有  ,  . , 以及  , 即  . 那么  . 函数如下 对于折射率, 光线离开物体时折射率需取倒数.  Ray…","fields":{"slug":"/tec/2020-12/realize_ray_tracing_in_two_days_4/","dateFormated":"2020年12月31日 08:04:20"},"frontmatter":{"tags":["RTX","光线追踪","图形学","渲染"],"author":null,"categories":["技术","计算机图形学"],"cover":{"publicURL":"/static/2726ea4e0d3a41f40c59c4eea5358258/210318170002.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvElEQVQozzWQS09TURSF7xyIgihqIhMrAyIgJRbagkApFloeLS0PeUSJTRjAgAgoEUFTlBaFRKhIKAVSHiUWaAtCeQVj+AfM+Def+97EwZfsc85ea+2zlVgsxu7uLvF4nGQyycHBAYeHh6RSKU5OTjg9PeXs7Izz83MNtT4VjuXtWHpS0vtbNIn9pOahrK+vs7m5STQaZXt7GzVgZ2dHC0kkEiQkRA3a39/XSKrIOSXiPSG6t8eOaOKi3RIPJRQKsby8zMrKCqurq4TDYSKRCBsbG6yurbG1tcUvaVYDVYEWLHf9uzH0yT108RiGWJS36xEi4qHMzc0xPz9PMBjUSMpUV1dXXF9f8/figsXFRWYXFghLcEiC15aW6A4vk7YWImtpgeyf89wQMheDDP4IogQCAaanp/H7/Zr46OhI22NKdvTn8hKvhCgDAxhHRvg+M4N/dpYH3/xkfZ3izvQU2YEv5AQ+kyEYA1MoPp8PlcnJSSYmJhgaHmZYxCNCYUcHxb2vUGprUaqqGBodZXzSR874ezI/fuCWkPVxjOyJMdKlNvs+ofT399PX14fX68Xj8dDW1kaHGDW3tFBhs5Gr16Pk5nK7sBC3vL9obSW/9yXpI2/IfDescUPIGBrE7n2NYrFY+E+tTNLZ2Ul3Tw/1TU2YrVbyioq4r9NRUFKCwWzG9OwZJpn2Xr2NNI+L9K4O7vZ0UeZyYaupQbHb7TQ0NOBwOKirq6NSmkuNRkoMBvSlBkrFoNxag0maDZZqiisryTcZyS0s4OYjHZl5j3hY/IQy6asRveIS52ankyaZyCHG9RJgE+qktsudOqlNsDY2UumwYxKRQVahl988rq4mr6ICXbmZfDF8KsFKq+ykVfam4pHaraLW7e0absHZ3kaj3Nd73Dx3t2CV/VpcTqqczVQ0N2FqbKBUDZNf/gMvvfv7f/k83wAAAABJRU5ErkJggg==","width":172,"height":96,"src":"/static/2726ea4e0d3a41f40c59c4eea5358258/2fdde/210318170002.png","srcSet":"/static/2726ea4e0d3a41f40c59c4eea5358258/2fdde/210318170002.png 1x,\n/static/2726ea4e0d3a41f40c59c4eea5358258/ffaf3/210318170002.png 1.5x,\n/static/2726ea4e0d3a41f40c59c4eea5358258/ec531/210318170002.png 2x"}}},"description":null,"draft":false,"series":["两天实现光线追踪"],"slug":"realize_ray_tracing_in_two_days_4","title":"两天实现光线追踪 4 - 折射"}},{"excerpt":"反射与材质 反射 我们可以根据碰撞点, 法线计算出反射后的新光线. 首先是新光线的方向, 先求出光线在法线上的分向量, 之后用入射光线的方向减去两倍这个分向量即为反射光线的方向. 显然   (法线向量是单位向量) 那么  , 且  因此我们可以定义一个函数用来求光线反射后的方向 给类  Ray  添加  reflect  方法 修改  Hitable  接口, 同时返回反射后的光线. 修改  Sphere  类和  HitList…","fields":{"slug":"/tec/2020-12/realize_ray_tracing_in_two_days_3/","dateFormated":"2020年12月31日 08:01:20"},"frontmatter":{"tags":["RTX","光线追踪","图形学","渲染"],"author":null,"categories":["技术","计算机图形学"],"cover":{"publicURL":"/static/d71c6d9863c6c568a154857845862d74/210318163301.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClElEQVQozzXM7U8SAQDH8XtjTUOQ4xRmnqh5PnGkbKGox7OAnodIBmlmtpi5pPkEPmLKpISJJigmsnTAQcodDwK12mprve9V659o6y/oVYzWZ98Xv1c/4PLykqIomqZTyWQmnb7KZHLZbD6ff1/04b/CzuXzn7LZL5nM51TqI51M0TQQDocj0SgZjcbjcZKmyHTyIknTiQRVvEwW0UVXFOVPp2ZymSfZ9CpNheMxIBgMhk5PT8/OQqEQ5fTk117GfIG3cfJdNJogycJppFgsEnkYJ7mJePkFyYhHWLGwKHIO+H0+fyBwvOP5KjX/Rog/zcO/0OHclG3l6NDq9R4dvzkJBs9PTqzHAcbhAeR/zfXtF9sr9e8DHrfH7d09kxq+cSXfEc0PRPuzoS8PS+GxSWDJjs7Pe3d3D/b2JE4n07lZ9Wob2nH9i+N2Adsu1/aWc53fsQw2rVS2rEHNC1UtcrCRD/EBubxEJrM5HN4dt9huZ9gWoY01zuY6Z9MBbW1UbDmAudnZZ1aruQG1MGqecxA71PwUbMTKq5ncm0BrKyQWm8zmibGxbpOpzGJhL8yBS4vgsg1csZet2gvvcplCoevBFmDhCxBZZMKTTBhD0Kom5BoECe6IpTKZUqnU9vUJhg2s8QfMKQtrZrpiZvrWxDiA4zhRYDAQag1WXVtXch1mgzC/nlffALcJWsTibrVap9drcFyMYTwhWioQsDvFIq1Gj+PA6OjofZPZqNFphKJOHixic9tYlU3cmna0Q6ZQqQYJhV6PEURnf3+jVMoRdTAFbSCK1ku6unQ64PHEo/Eho6lXMSQQDcCIil0t49bJW9u1EszQPzh0957OZJaPjHQbjbcJgqdU3OjtAWVYrVolxAf+Aseq/1BtX7z1AAAAAElFTkSuQmCC","width":172,"height":96,"src":"/static/d71c6d9863c6c568a154857845862d74/2fdde/210318163301.png","srcSet":"/static/d71c6d9863c6c568a154857845862d74/2fdde/210318163301.png 1x,\n/static/d71c6d9863c6c568a154857845862d74/ffaf3/210318163301.png 1.5x,\n/static/d71c6d9863c6c568a154857845862d74/ec531/210318163301.png 2x"}}},"description":null,"draft":false,"series":["两天实现光线追踪"],"slug":"realize_ray_tracing_in_two_days_3","title":"两天实现光线追踪 3 - 反射与材质"}},{"excerpt":"坐标系 画布坐标系 上一节中已经有了一个根据坐标来渲染的函数  rederPixel , 现在我们把它抽象一下, 具体渲染的逻辑交给别的函数去做.\n重新定义画布坐标系, 向右为 x 正方向, 范围从 0 到 1, 向上为 y 正方向, 范围也是 0 到 1. 因为透明度基本用不到, 直接写死就可以. 空间坐标系 向量 我们定义一个向量类  Vec3 , 既能装  x, y, z  坐标, 也能顺便装一下  r, g, b…","fields":{"slug":"/tec/2020-12/realize_ray_tracing_in_two_days_2/","dateFormated":"2020年12月31日 08:00:20"},"frontmatter":{"tags":["RTX","光线追踪","图形学","渲染"],"author":null,"categories":["技术","计算机图形学"],"cover":{"publicURL":"/static/3ca0939b5109152fd09e85fc9c5212a4/210318160643_cover.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBklEQVQoz62S7UtTURjA90/11Q9Rf0Cf+xLUhyJCiKAIsqBWm0asFhrTKPeiuemuczNsbkRY2MyiKCTDdreszfmSesv74u49v87uJpXoh6AHfjzPued5fhzOPZ7MaFo8TqXJjKYYG1FIxkdclFbeD2WHxLA7l89OMp5O4wFsmiH+Bx7Lshzblk5hi+qKSXbGIPfKIFuQdcHgSUF3mWjklya5gkV+Vpc9JpOyd33TRAibhqNer+ORhSNE84RzxS38Aya3EiZdSQ3fkM6NiI03YuGLWXiHNM5lP9Hx9Au3M9+5+Ujna013hxsSIflL+HlRJzRu4M+tEptWeT71hvCLMpFna/RnbE6NTHNk8C2nw+vciW4wMLxBdc1oDu8lXKyaBBWDk5d+0O/V+XhthsGL70h3lRmbWuXghUkOHJ/naLvG1RM68aDGsmbuIXTvE1HUyoQqg5y9PEvgUJn8mQzdwQQPMwPE6eb8RA9th3Mca1sg0P6a2EKcmr6yv3DeeM89Oujd9tM9F6B30899vPRxnT7HRxgfPUud3P0Q4IHsCXGFqrHYEjpNofwz0ui438qaKhKVsFBqMTG6IfNKVCS/xYRSiQplSdbVqEitRUSqsVeT60pErG4tu8/FcRwXT+v9/A67xbak/sd6h/quvV3hKRaLW2pJ3VZV1ZLZKpVL/4Q716Th+PkLOWoFfzQ6pU0AAAAASUVORK5CYII=","width":172,"height":96,"src":"/static/3ca0939b5109152fd09e85fc9c5212a4/2fdde/210318160643_cover.png","srcSet":"/static/3ca0939b5109152fd09e85fc9c5212a4/2fdde/210318160643_cover.png 1x,\n/static/3ca0939b5109152fd09e85fc9c5212a4/ffaf3/210318160643_cover.png 1.5x,\n/static/3ca0939b5109152fd09e85fc9c5212a4/ec531/210318160643_cover.png 2x"}}},"description":null,"draft":false,"series":["两天实现光线追踪"],"slug":"realize_ray_tracing_in_two_days_2","title":"两天实现光线追踪 2 - 坐标系与形状"}},{"excerpt":"接上文  十分钟学会光线追踪 该系列是  Peter Shirley  的  Ray Tracing in One Weekend  一书的 typescript 实现, 实现过程中参考了一些  https://zhuanlan.zhihu.com/p/42218384  的代码, 感谢. 准备工作 页面结构 首先, 构建一个用于展示的场景. 我们需要一个 canvas 用来展示最终的结果, 以及一个用来展示进度的进度条. index.html app.css…","fields":{"slug":"/tec/2020-12/realize_ray_tracing_in_two_days_1/","dateFormated":"2020年12月31日 07:59:20"},"frontmatter":{"tags":["RTX","光线追踪","图形学","渲染"],"author":null,"categories":["技术","计算机图形学"],"cover":{"publicURL":"/static/bb5087a1ca108c6936b765b407cc052d/2103181455_cover.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEUlEQVQoz6XRzWsTQRjH8fwJgldNY32BIi0mqU2Lsdlk09hYsRdREKEXEWtsS5GCB0HRi+DBtqkiHgvqwaP4Ut8OKiJVVPC9plWwSStFks3sM5OXzfx8bOKh0NqDs3yYnWX3y+yuy+9ttJsDrRRoDdI273Zq2NpEnvrNtM69gdYzd109uT0bV7VpSwP5/C3kikXjiMe6EIt2IhIyYbSHF0UME2a4A+1BA22BHasydoYRM3fBZeVy2hY2E1pYeS3yosZevJ63hLay1spyFt9j6Vw2x7LaBUCjOv7O/zVcTrmseXBO62Kxgh8ZB+m0g3n2k88X2C+WZdZcGWLOATE176DIHFXhnfBR0X8SHHQcXalUd/jqXQFrvAKeJkLAS4izQ35CfzPhTAsh2Ua4FiTcDUlMmhJTIYJ4oqoPO8sEJz9IrDUF6iIEn2kjahL2Rwm9HYRTMcLFTsL4bsLtPRIvujnYRbCeypWDb6cVGhM2fMckjAShOyHRc1xikJ3tkxjrl7g+IDExKPHyhEJqgJB/XQsueeXq79DvZxWMYUJ0WGHviMTBEYWj7OSownl2Nalwc0zh0aUC3lwu4HtSQnz5R/DzgsK+ewUcmCih534JvWyInWOjD0oYZ7celvGMfXxcRobXlK59Q71M8Gte4fCUjSMpib4UYYjn0+wCuzItcYPdmZF4PqPw6ZtChteUlUuCvwETSbqcFe3KYwAAAABJRU5ErkJggg==","width":172,"height":96,"src":"/static/bb5087a1ca108c6936b765b407cc052d/2fdde/2103181455_cover.png","srcSet":"/static/bb5087a1ca108c6936b765b407cc052d/2fdde/2103181455_cover.png 1x,\n/static/bb5087a1ca108c6936b765b407cc052d/ffaf3/2103181455_cover.png 1.5x,\n/static/bb5087a1ca108c6936b765b407cc052d/ec531/2103181455_cover.png 2x"}}},"description":null,"draft":false,"series":["两天实现光线追踪"],"slug":"realize_ray_tracing_in_two_days_1","title":"两天实现光线追踪 1 - 准备工作"}},{"excerpt":"前言 十分钟学会光线追踪并不是夸大其词, 因为这里要介绍的书的原名就叫  Ray Tracing in a Weekend , 不涉及实现的话, 十分钟足够了. 另外相比较于传统的光栅化渲染, 光线追踪原理是更好理解的, 不同于光栅化大量的模拟与近似, 光线追踪选择了直接模拟真实世界的物理法则, 相比之下更加真实. 作为一种近年来新出现的技术, 光线追踪对游戏和渲染画质的提升是巨大的, 下面是在游戏 Minecraft 中打开和关闭光线追踪后的对比. 截图均来自 Nvidia…","fields":{"slug":"/tec/2020-12/ray_tracing_in_10_minutes/","dateFormated":"2020年12月31日 06:59:20"},"frontmatter":{"tags":["RTX","光线追踪","图形学","渲染"],"author":null,"categories":["技术","计算机图形学"],"cover":{"publicURL":"/static/0273e9442abe076c6440de683dc2b60d/demo_lite.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaUlEQVQoz2NomXYYiJqnwtGhpimHGicfAJLtM0+0zTgGlAUyWqcfbZpyEK4MoouhY+ZRIGqHodbpQD1He+ad7ph5LKN0uktAnq1XemBMVVXn+q45J9tmHGkHq4cghp65x+Goe86xSUsutE87WNiwPDq5VtvEW0HXU17HU0Xf09oxvKp9Zf+C00A1cPUM/fNP9M8/DkLzjk9YdCo5s1nDwE/b0NXFPczCPtTENsTEJsTcPszKPjAsKqtv3hGE+vnHGWavujh79aVZKy8s2Hi7vnOZuoauvlNMSFhyUlxqRHhSeHhieFgikBEdlZwQm9I/a+fcdddnr7w0exUIMRS2rs6qnZ9VO6+gdbl/YLqrZ+yUlbd8wzLVNAz0ja31DS2NjKyMjCwNjSz1jSwDQgszS6emVfZkty4obp7PIGbkJWgcxKPvq2AZq2Hor6wfEJk339wlkU9ESlhCSVBMTkhAno9Xll9UWURKhZ9PgpNLTULLlktKgUvchEHbPl7FKIpTTVbNzsvGq0RKw0Bcz0bewENQREJSWhmIxMQUhEWlxSVkBHRM+Gx9uESkhFT05FTsRGT0GTRDZypZJnOos4poaGqahioZuIrp2gor6ovLaAmJSvPzC/HxC4rwqcjyO4koGQtoO4lohwspuSqZlyobBTII64WJa3sp6ngr6Xqrmwcoe8dK2nhLq5jKq1lJKeiJSCkKS8pIcFpKM/jISdoIyrvwauYKyrsLy1gr6PoyyGm6Kep4SsnoS4pryGo6CGqbCGoay2s5K+m4q2h766rk66rkSktZCvPoSMmZK8uLKUnzyiibgnTpegMAYY/oWLENrEAAAAAASUVORK5CYII=","width":172,"height":96,"src":"/static/0273e9442abe076c6440de683dc2b60d/2fdde/demo_lite.png","srcSet":"/static/0273e9442abe076c6440de683dc2b60d/2fdde/demo_lite.png 1x,\n/static/0273e9442abe076c6440de683dc2b60d/ffaf3/demo_lite.png 1.5x,\n/static/0273e9442abe076c6440de683dc2b60d/ec531/demo_lite.png 2x"}}},"description":null,"draft":false,"series":[],"slug":"ray_tracing_in_10_minutes","title":"十分钟学会光线追踪"}}]}},"pageContext":{"currentPage":0,"totalPage":5,"limit":8,"skip":0}},"staticQueryHashes":["2841359383","3017845491","3975179661"]}