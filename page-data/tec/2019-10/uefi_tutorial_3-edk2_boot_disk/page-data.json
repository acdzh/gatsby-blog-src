{"componentChunkName":"component---src-templates-post-tsx","path":"/tec/2019-10/uefi_tutorial_3-edk2_boot_disk/","result":{"data":{"site":{"siteMetadata":{"author":{"name":"acdzh"}}},"mdx":{"id":"2a3162d2-920f-582f-ac24-ec1622804fcd","excerpt":"传统Legacy模式启动盘 编译DuetPkg 现在, U盘内的结构应如下 Efildr20 用于在Legacy模式下引导进入 UEFI 环境 bootX64.efi 是开机后进入的 shell, HelloWorld.efi 是刚刚复制过去的测试程序. 这里的 bootX64.efi…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"UEFI 原理与编程 3 - EDK2 U盘启动盘制作\",\n  \"date\": \"2019-10-24T08:38:00.000Z\",\n  \"draft\": false,\n  \"comment\": true,\n  \"description\": \"\",\n  \"slug\": \"uefi_tutorial_3-edk2_boot_disk\",\n  \"tags\": [\"EDK2\", \"UEFI\"],\n  \"series\": [\"UEFI 原理与编程\"],\n  \"categories\": [\"技术\", \"嵌入式开发\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"传统legacy模式启动盘\"\n  }, \"\\u4F20\\u7EDFLegacy\\u6A21\\u5F0F\\u542F\\u52A8\\u76D8\"), mdx(\"p\", null, \"\\u7F16\\u8BD1DuetPkg\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"build --nt32\\nbuild -a X64 -p DuetPkg\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"DuetPkgX64.dsc\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token builtin class-name\"\n  }, \"cd\"), \" DuetPkg\\ncreatebookdisk.bat usb E: FAT32 X64\\ncreatebookdisk.bat usb E: FAT32 X64 step2\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token builtin class-name\"\n  }, \"cd\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"..\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"Build\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"DuetPkgX64\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"DEBUG_VS2015\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"X64\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"cp\"), \" HelloWorld.efi E:\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"efi\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"boot\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"HelloWorld.efi /y\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u73B0\\u5728, U\\u76D8\\u5185\\u7684\\u7ED3\\u6784\\u5E94\\u5982\\u4E0B\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"320px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/398896250d30bb327623b840fa26f8b5/72799/uefi3_1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"106.13496932515336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjElEQVQ4y5VU21LiUBDMu4UkCEgSQu5XooUBQREEt7RY1toP8G3//yd6Z0aTDYHaZR+6ck4unZnunqMkWYan3QdW2zc8bzZYrp/x+LTCiterNdbbF6w3W8zmCxT3c0z/ASXJcmx//sLm9Tv27+/Y7d/x8vqGb287vO72st/tf2C2eDgG/WS2+ML8E0qSZggDB67nwXFdDIdD2LaJIBghH3vo9/uI4xjdXg9XV1cCrdMR8L0mlDhJkSQJRrYNx3HkY993cZMnmM9yWnv0Axuj0UjIB4OBvOc4NtR2G6qqHkDJ8lsUxQS6rsN2XEwmE+T5DaI4xW2ew/N8WEQ2LQpae3BdH/ek1ePjAzRNO4KSjnMsSIPlcok7IuOXp9MpfM8VCe6KKZHdkSSuVJamKTodDW2qjgnKyirCME6kzZE1JP0sWJYl7Q+HprRnE0ng+7i+vpaWufUO6VcnOSCMiJA14putVktwcXEh18vLSwGvuSIG70uCZnVfhLE4xy6HYYQgDMWkjPIZRyFaRMAVNbVqElWE/DETDvQBDMOUdl3SjlszTaPS6lwocfxJyG2WLVWoCX82IbfJscjzsYS61Kiu098IjjQ0TRO9Xp8y5oqj3W6X9j2BdkZlJwlLBwe6gWw8puwVFKUIHU2tXC5laDr9iT8dCWH5oDSgdJWvAUkShgEFOiPnU3hkmO16iEJfSOqmyegxYTOkJZgw5gjRdHD4ORGcAM8PaBAsCT6Hvd76QYWntMloNHncmJilGFOVYRQRqScz75Lu9clRdEOvNGzXTo86KX9QD3e1V48LUPgAMIiUS+d57ZHLh+6pR0fUKVQaJtROROPmky58PAXUSnP4z0FVoWEYJ0353wkp8RvtrSY6zyWV6QAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"uefi3_1.png\",\n    \"title\": \"uefi3_1.png\",\n    \"src\": \"/static/398896250d30bb327623b840fa26f8b5/72799/uefi3_1.png\",\n    \"srcSet\": [\"/static/398896250d30bb327623b840fa26f8b5/222b7/uefi3_1.png 163w\", \"/static/398896250d30bb327623b840fa26f8b5/72799/uefi3_1.png 320w\"],\n    \"sizes\": \"(max-width: 320px) 100vw, 320px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Efildr20 \\u7528\\u4E8E\\u5728Legacy\\u6A21\\u5F0F\\u4E0B\\u5F15\\u5BFC\\u8FDB\\u5165 UEFI \\u73AF\\u5883\"), mdx(\"p\", null, \"bootX64.efi \\u662F\\u5F00\\u673A\\u540E\\u8FDB\\u5165\\u7684 shell, HelloWorld.efi \\u662F\\u521A\\u521A\\u590D\\u5236\\u8FC7\\u53BB\\u7684\\u6D4B\\u8BD5\\u7A0B\\u5E8F.\"), mdx(\"p\", null, \"\\u8FD9\\u91CC\\u7684 bootX64.efi \\u5B9E\\u9645\\u4E0A\\u6765\\u6E90\\u662F \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"<Workspace>\\\\ShellBinPkg\\\\UefiShell\\\\X64\\\\Shell.efi\"), \", \\u662F edk2 \\u9884\\u5148\\u7F16\\u8BD1\\u597D\\u7684 shell. \\u8FD9\\u4E2A\\u53EF\\u5728 \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"createbookdisk.bat\"), \" \\u4E2D\\u770B\\u51FA: \"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"650px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/3a5847d11bd13bad34e06343ea2f5d8c/9ba38/uefi3_2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"10.429447852760736%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgElEQVQI1w2M6QqDMBgEfZ3awwMbE5OQo9EoCqXv/zDT78cy7C5M42IlrT9KlZSLIN2mnfeSUBKjI4tKTMJxDhiX6VTgNjra3jIb+SbP/al5DI5mCRsxfznKyZZ38nqS8oEPlSDij1tJfkMJjSuUVNEiealIrzNWNiXyYfC0neUPnkJEgeQ0K2IAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"uefi3_2.png\",\n    \"title\": \"uefi3_2.png\",\n    \"src\": \"/static/3a5847d11bd13bad34e06343ea2f5d8c/a6d36/uefi3_2.png\",\n    \"srcSet\": [\"/static/3a5847d11bd13bad34e06343ea2f5d8c/222b7/uefi3_2.png 163w\", \"/static/3a5847d11bd13bad34e06343ea2f5d8c/ff46a/uefi3_2.png 325w\", \"/static/3a5847d11bd13bad34e06343ea2f5d8c/a6d36/uefi3_2.png 650w\", \"/static/3a5847d11bd13bad34e06343ea2f5d8c/e548f/uefi3_2.png 975w\", \"/static/3a5847d11bd13bad34e06343ea2f5d8c/3c492/uefi3_2.png 1300w\", \"/static/3a5847d11bd13bad34e06343ea2f5d8c/9ba38/uefi3_2.png 1329w\"],\n    \"sizes\": \"(max-width: 650px) 100vw, 650px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"\\u5982\\u679C\\u8981\\u4F7F\\u7528\\u8F83\\u65B0\\u7684 Shell, \\u53EF\\u4EE5\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"build -a X64 -p ShellPkg\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"ShellPkg.dsc\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"cp\"), \" Build\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"Shell\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"DEBUG_VS2015\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"X64\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"Shell.efi E:\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"efi\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"boot\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"bootX64.efi /y\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u4E4B\\u540E\\u4E0A\\u673A\\u6D4B\\u8BD5. \\u5F00\\u673A\\u6309 F2 \\u8FDB\\u5165 bios, \\u518D\\u6309 F8 \\u542F\\u52A8\\u8BBE\\u5907\\u9009\\u62E9\\u754C\\u9762 (\\u534E\\u7855), \\u9009\\u62E9U\\u76D8. \\u4E4B\\u540E\\u8FDB\\u5165 Shell\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"../img/2019/10/24/uefi3_3.jpg\",\n    \"alt\": \"uefi3_3.jpg\"\n  })), mdx(\"h2\", {\n    \"id\": \"历史记录\"\n  }, \"\\u5386\\u53F2\\u8BB0\\u5F55\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"Version\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"Action\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"Time\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"1.0\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"Init\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"2019-10-24 16:38\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"1.0\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"\\u8FC1\\u79FB\\u81F3 blog\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": \"center\"\n  }, \"2020-04-26 23:18\")))));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#传统legacy模式启动盘","title":"传统Legacy模式启动盘"},{"url":"#历史记录","title":"历史记录"}]},"fileAbsolutePath":"/home/runner/work/gatsby-blog-src/gatsby-blog-src/content/blog/tec/2019-10/UEFI 原理与编程 3 - EDK2 U盘启动盘制作/index.md","frontmatter":{"tags":["EDK2","UEFI"],"author":null,"categories":["技术","嵌入式开发"],"comment":true,"cover":null,"date":"2019-10-24T08:38:00.000Z","description":"","draft":false,"from":null,"nolicense":null,"series":["UEFI 原理与编程"],"slug":"uefi_tutorial_3-edk2_boot_disk","title":"UEFI 原理与编程 3 - EDK2 U盘启动盘制作","toc":null},"fields":{"dateFormated":"2019年10月24日 08:38:00"},"wordCount":{"words":41},"timeToRead":1},"previous":{"fields":{"slug":"/tec/2019-10/uefi_tutorial_2-edit_bootimg_boottime/"},"frontmatter":{"title":"UEFI 原理与编程 2 - 修改启动图标 / 设置启动时间"}},"next":{"fields":{"slug":"/tec/2019-12/github_organizations_puzzle_1-cut_image/"},"frontmatter":{"title":"Github Organizations 拼图 1 - 图像切割"}}},"pageContext":{"id":"2a3162d2-920f-582f-ac24-ec1622804fcd","previousPostId":"8d906ceb-af2d-5e88-8dc0-9209ad14d954","nextPostId":"09b676ae-7ebf-5cfa-9f0f-4c9d149ae97b"}},"staticQueryHashes":["2841359383","3017845491","3975179661"]}